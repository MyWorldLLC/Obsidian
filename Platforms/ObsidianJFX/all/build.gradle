plugins {
    id 'java-library'
    id 'maven-publish'
}

dependencies {
    api project(':ObsidianJFX')
    // These are API for the same reason that the platform
    // JFX dependencies are API.
    api project(':Platforms:ObsidianJFX:linux-x64')
    api project(':Platforms:ObsidianJFX:mac-arm64')
    api project(':Platforms:ObsidianJFX:mac-x64')
    api project(':Platforms:ObsidianJFX:windows-x64')
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(jdkVersion)
    }
}

group = 'com.myworldvw'
version = gitVersion

publishing {
    publications {
        maven(MavenPublication) {

            groupId = group
            artifactId = 'obsidian-jfx-all'
            version = version

            from components.java
        }
    }
    repositories {
        mavenLocal()
        maven {
            name = "GitHubPackages"
            url = uri("https://maven.pkg.github.com/MyWorldLLC/Packages")
            credentials {
                username = gitUser
                password = gitPassword
            }
        }
    }
}